function cov_29w7qehwjl() {
  var path = "C:\\Users\\juraj\\naty\\2\\ToolJet-develop-2\\frontend\\src\\_hooks\\use-popover.jsx";
  var hash = "d0980607537d1c06cd77a1b6fba1af65d6f06c34";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\juraj\\naty\\2\\ToolJet-develop-2\\frontend\\src\\_hooks\\use-popover.jsx",
    statementMap: {
      "0": {
        start: {
          line: 5,
          column: 13
        },
        end: {
          line: 5,
          column: 21
        }
      },
      "1": {
        start: {
          line: 6,
          column: 25
        },
        end: {
          line: 16,
          column: 1
        }
      },
      "2": {
        start: {
          line: 7,
          column: 24
        },
        end: {
          line: 11,
          column: 3
        }
      },
      "3": {
        start: {
          line: 8,
          column: 4
        },
        end: {
          line: 10,
          column: 5
        }
      },
      "4": {
        start: {
          line: 9,
          column: 6
        },
        end: {
          line: 9,
          column: 16
        }
      },
      "5": {
        start: {
          line: 12,
          column: 2
        },
        end: {
          line: 15,
          column: 19
        }
      },
      "6": {
        start: {
          line: 13,
          column: 4
        },
        end: {
          line: 13,
          column: 86
        }
      },
      "7": {
        start: {
          line: 14,
          column: 4
        },
        end: {
          line: 14,
          column: 104
        }
      },
      "8": {
        start: {
          line: 14,
          column: 18
        },
        end: {
          line: 14,
          column: 102
        }
      },
      "9": {
        start: {
          line: 17,
          column: 24
        },
        end: {
          line: 35,
          column: 1
        }
      },
      "10": {
        start: {
          line: 18,
          column: 22
        },
        end: {
          line: 18,
          column: 37
        }
      },
      "11": {
        start: {
          line: 19,
          column: 14
        },
        end: {
          line: 19,
          column: 26
        }
      },
      "12": {
        start: {
          line: 20,
          column: 30
        },
        end: {
          line: 24,
          column: 3
        }
      },
      "13": {
        start: {
          line: 21,
          column: 4
        },
        end: {
          line: 23,
          column: 5
        }
      },
      "14": {
        start: {
          line: 22,
          column: 6
        },
        end: {
          line: 22,
          column: 29
        }
      },
      "15": {
        start: {
          line: 26,
          column: 2
        },
        end: {
          line: 28,
          column: 5
        }
      },
      "16": {
        start: {
          line: 27,
          column: 4
        },
        end: {
          line: 27,
          column: 34
        }
      },
      "17": {
        start: {
          line: 29,
          column: 2
        },
        end: {
          line: 33,
          column: 19
        }
      },
      "18": {
        start: {
          line: 30,
          column: 4
        },
        end: {
          line: 30,
          column: 111
        }
      },
      "19": {
        start: {
          line: 31,
          column: 4
        },
        end: {
          line: 32,
          column: 116
        }
      },
      "20": {
        start: {
          line: 32,
          column: 6
        },
        end: {
          line: 32,
          column: 115
        }
      },
      "21": {
        start: {
          line: 34,
          column: 2
        },
        end: {
          line: 34,
          column: 13
        }
      },
      "22": {
        start: {
          line: 36,
          column: 13
        },
        end: {
          line: 36,
          column: 21
        }
      },
      "23": {
        start: {
          line: 37,
          column: 19
        },
        end: {
          line: 58,
          column: 1
        }
      },
      "24": {
        start: {
          line: 38,
          column: 21
        },
        end: {
          line: 38,
          column: 33
        }
      },
      "25": {
        start: {
          line: 39,
          column: 26
        },
        end: {
          line: 39,
          column: 47
        }
      },
      "26": {
        start: {
          line: 40,
          column: 17
        },
        end: {
          line: 43,
          column: 8
        }
      },
      "27": {
        start: {
          line: 41,
          column: 4
        },
        end: {
          line: 41,
          column: 24
        }
      },
      "28": {
        start: {
          line: 42,
          column: 4
        },
        end: {
          line: 42,
          column: 19
        }
      },
      "29": {
        start: {
          line: 44,
          column: 16
        },
        end: {
          line: 44,
          column: 53
        }
      },
      "30": {
        start: {
          line: 44,
          column: 34
        },
        end: {
          line: 44,
          column: 48
        }
      },
      "31": {
        start: {
          line: 45,
          column: 2
        },
        end: {
          line: 45,
          column: 30
        }
      },
      "32": {
        start: {
          line: 46,
          column: 21
        },
        end: {
          line: 46,
          column: 66
        }
      },
      "33": {
        start: {
          line: 47,
          column: 18
        },
        end: {
          line: 52,
          column: 3
        }
      },
      "34": {
        start: {
          line: 53,
          column: 18
        },
        end: {
          line: 56,
          column: 3
        }
      },
      "35": {
        start: {
          line: 57,
          column: 2
        },
        end: {
          line: 57,
          column: 43
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 5,
            column: 13
          },
          end: {
            line: 5,
            column: 14
          }
        },
        loc: {
          start: {
            line: 5,
            column: 19
          },
          end: {
            line: 5,
            column: 21
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 6,
            column: 25
          },
          end: {
            line: 6,
            column: 26
          }
        },
        loc: {
          start: {
            line: 6,
            column: 64
          },
          end: {
            line: 16,
            column: 1
          }
        },
        line: 6
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 7,
            column: 24
          },
          end: {
            line: 7,
            column: 25
          }
        },
        loc: {
          start: {
            line: 7,
            column: 31
          },
          end: {
            line: 11,
            column: 3
          }
        },
        line: 7
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 12,
            column: 12
          },
          end: {
            line: 12,
            column: 13
          }
        },
        loc: {
          start: {
            line: 12,
            column: 18
          },
          end: {
            line: 15,
            column: 3
          }
        },
        line: 12
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 14,
            column: 11
          },
          end: {
            line: 14,
            column: 12
          }
        },
        loc: {
          start: {
            line: 14,
            column: 18
          },
          end: {
            line: 14,
            column: 102
          }
        },
        line: 14
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 17,
            column: 24
          },
          end: {
            line: 17,
            column: 25
          }
        },
        loc: {
          start: {
            line: 17,
            column: 58
          },
          end: {
            line: 35,
            column: 1
          }
        },
        line: 17
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 20,
            column: 30
          },
          end: {
            line: 20,
            column: 31
          }
        },
        loc: {
          start: {
            line: 20,
            column: 37
          },
          end: {
            line: 24,
            column: 3
          }
        },
        line: 20
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 26,
            column: 12
          },
          end: {
            line: 26,
            column: 13
          }
        },
        loc: {
          start: {
            line: 26,
            column: 18
          },
          end: {
            line: 28,
            column: 3
          }
        },
        line: 26
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 29,
            column: 12
          },
          end: {
            line: 29,
            column: 13
          }
        },
        loc: {
          start: {
            line: 29,
            column: 18
          },
          end: {
            line: 33,
            column: 3
          }
        },
        line: 29
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 31,
            column: 11
          },
          end: {
            line: 31,
            column: 12
          }
        },
        loc: {
          start: {
            line: 32,
            column: 6
          },
          end: {
            line: 32,
            column: 115
          }
        },
        line: 32
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 37,
            column: 19
          },
          end: {
            line: 37,
            column: 20
          }
        },
        loc: {
          start: {
            line: 37,
            column: 44
          },
          end: {
            line: 58,
            column: 1
          }
        },
        line: 37
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 40,
            column: 29
          },
          end: {
            line: 40,
            column: 30
          }
        },
        loc: {
          start: {
            line: 40,
            column: 36
          },
          end: {
            line: 43,
            column: 3
          }
        },
        line: 40
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 44,
            column: 28
          },
          end: {
            line: 44,
            column: 29
          }
        },
        loc: {
          start: {
            line: 44,
            column: 34
          },
          end: {
            line: 44,
            column: 48
          }
        },
        line: 44
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 6,
            column: 26
          },
          end: {
            line: 6,
            column: 40
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 6,
            column: 36
          },
          end: {
            line: 6,
            column: 40
          }
        }],
        line: 6
      },
      "1": {
        loc: {
          start: {
            line: 6,
            column: 42
          },
          end: {
            line: 6,
            column: 59
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 6,
            column: 57
          },
          end: {
            line: 6,
            column: 59
          }
        }],
        line: 6
      },
      "2": {
        loc: {
          start: {
            line: 8,
            column: 4
          },
          end: {
            line: 10,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 8,
            column: 4
          },
          end: {
            line: 10,
            column: 5
          }
        }, {
          start: {
            line: 8,
            column: 4
          },
          end: {
            line: 10,
            column: 5
          }
        }],
        line: 8
      },
      "3": {
        loc: {
          start: {
            line: 13,
            column: 4
          },
          end: {
            line: 13,
            column: 85
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 13,
            column: 24
          },
          end: {
            line: 13,
            column: 33
          }
        }, {
          start: {
            line: 13,
            column: 36
          },
          end: {
            line: 13,
            column: 85
          }
        }],
        line: 13
      },
      "4": {
        loc: {
          start: {
            line: 14,
            column: 18
          },
          end: {
            line: 14,
            column: 102
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 14,
            column: 38
          },
          end: {
            line: 14,
            column: 47
          }
        }, {
          start: {
            line: 14,
            column: 50
          },
          end: {
            line: 14,
            column: 102
          }
        }],
        line: 14
      },
      "5": {
        loc: {
          start: {
            line: 17,
            column: 39
          },
          end: {
            line: 17,
            column: 53
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 17,
            column: 49
          },
          end: {
            line: 17,
            column: 53
          }
        }],
        line: 17
      },
      "6": {
        loc: {
          start: {
            line: 21,
            column: 4
          },
          end: {
            line: 23,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 21,
            column: 4
          },
          end: {
            line: 23,
            column: 5
          }
        }, {
          start: {
            line: 21,
            column: 4
          },
          end: {
            line: 23,
            column: 5
          }
        }],
        line: 21
      },
      "7": {
        loc: {
          start: {
            line: 21,
            column: 8
          },
          end: {
            line: 21,
            column: 77
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 21,
            column: 8
          },
          end: {
            line: 21,
            column: 27
          }
        }, {
          start: {
            line: 21,
            column: 31
          },
          end: {
            line: 21,
            column: 42
          }
        }, {
          start: {
            line: 21,
            column: 46
          },
          end: {
            line: 21,
            column: 77
          }
        }],
        line: 21
      },
      "8": {
        loc: {
          start: {
            line: 30,
            column: 4
          },
          end: {
            line: 30,
            column: 110
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 30,
            column: 24
          },
          end: {
            line: 30,
            column: 33
          }
        }, {
          start: {
            line: 30,
            column: 36
          },
          end: {
            line: 30,
            column: 110
          }
        }],
        line: 30
      },
      "9": {
        loc: {
          start: {
            line: 32,
            column: 6
          },
          end: {
            line: 32,
            column: 115
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 32,
            column: 26
          },
          end: {
            line: 32,
            column: 35
          }
        }, {
          start: {
            line: 32,
            column: 38
          },
          end: {
            line: 32,
            column: 115
          }
        }],
        line: 32
      },
      "10": {
        loc: {
          start: {
            line: 37,
            column: 20
          },
          end: {
            line: 37,
            column: 39
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 37,
            column: 34
          },
          end: {
            line: 37,
            column: 39
          }
        }],
        line: 37
      },
      "11": {
        loc: {
          start: {
            line: 46,
            column: 41
          },
          end: {
            line: 46,
            column: 65
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 46,
            column: 48
          },
          end: {
            line: 46,
            column: 53
          }
        }, {
          start: {
            line: 46,
            column: 56
          },
          end: {
            line: 46,
            column: 65
          }
        }],
        line: 46
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0
    },
    b: {
      "0": [0],
      "1": [0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0],
      "6": [0, 0],
      "7": [0, 0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0],
      "11": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "d0980607537d1c06cd77a1b6fba1af65d6f06c34"
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }

  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_29w7qehwjl = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}

cov_29w7qehwjl();

/* eslint-disable react-hooks/exhaustive-deps */
import { useRef, useState, useEffect, useCallback } from 'react';
import { isEmpty } from 'lodash';
cov_29w7qehwjl().s[0]++;

const noop = () => {
  cov_29w7qehwjl().f[0]++;
};

cov_29w7qehwjl().s[1]++;

const useEscapeHandler = (handler = (cov_29w7qehwjl().b[0][0]++, noop), dependencies = (cov_29w7qehwjl().b[1][0]++, [])) => {
  cov_29w7qehwjl().f[1]++;
  cov_29w7qehwjl().s[2]++;

  const escapeHandler = e => {
    cov_29w7qehwjl().f[2]++;
    cov_29w7qehwjl().s[3]++;

    if (e.code === 'Escape') {
      cov_29w7qehwjl().b[2][0]++;
      cov_29w7qehwjl().s[4]++;
      handler();
    } else {
      cov_29w7qehwjl().b[2][1]++;
    }
  };

  cov_29w7qehwjl().s[5]++;
  useEffect(() => {
    cov_29w7qehwjl().f[3]++;
    cov_29w7qehwjl().s[6]++;
    isEmpty(document) ? (cov_29w7qehwjl().b[3][0]++, undefined) : (cov_29w7qehwjl().b[3][1]++, document.addEventListener('keyup', escapeHandler));
    cov_29w7qehwjl().s[7]++;
    return () => {
      cov_29w7qehwjl().f[4]++;
      cov_29w7qehwjl().s[8]++;
      return isEmpty(document) ? (cov_29w7qehwjl().b[4][0]++, undefined) : (cov_29w7qehwjl().b[4][1]++, document.removeEventListener('keyup', escapeHandler));
    };
  }, dependencies);
};

cov_29w7qehwjl().s[9]++;

const useClickOutside = (dependencies, handler = (cov_29w7qehwjl().b[5][0]++, noop)) => {
  cov_29w7qehwjl().f[5]++;
  const callbackRef = (cov_29w7qehwjl().s[10]++, useRef(handler));
  const ref = (cov_29w7qehwjl().s[11]++, useRef(null));
  cov_29w7qehwjl().s[12]++;

  const outsideClickHandler = e => {
    cov_29w7qehwjl().f[6]++;
    cov_29w7qehwjl().s[13]++;

    if ((cov_29w7qehwjl().b[7][0]++, callbackRef.current) && (cov_29w7qehwjl().b[7][1]++, ref.current) && (cov_29w7qehwjl().b[7][2]++, !ref.current.contains(e.target))) {
      cov_29w7qehwjl().b[6][0]++;
      cov_29w7qehwjl().s[14]++;
      callbackRef.current(e);
    } else {
      cov_29w7qehwjl().b[6][1]++;
    }
  }; // useEffect wrapper to be safe for concurrent mode


  cov_29w7qehwjl().s[15]++;
  useEffect(() => {
    cov_29w7qehwjl().f[7]++;
    cov_29w7qehwjl().s[16]++;
    callbackRef.current = handler;
  });
  cov_29w7qehwjl().s[17]++;
  useEffect(() => {
    cov_29w7qehwjl().f[8]++;
    cov_29w7qehwjl().s[18]++;
    isEmpty(document) ? (cov_29w7qehwjl().b[8][0]++, undefined) : (cov_29w7qehwjl().b[8][1]++, document.addEventListener('click', outsideClickHandler, {
      capture: true
    }));
    cov_29w7qehwjl().s[19]++;
    return () => {
      cov_29w7qehwjl().f[9]++;
      cov_29w7qehwjl().s[20]++;
      return isEmpty(document) ? (cov_29w7qehwjl().b[9][0]++, undefined) : (cov_29w7qehwjl().b[9][1]++, document.removeEventListener('click', outsideClickHandler, {
        capture: true
      }));
    };
  }, dependencies);
  cov_29w7qehwjl().s[21]++;
  return ref;
};

const role = (cov_29w7qehwjl().s[22]++, 'dialog');
cov_29w7qehwjl().s[23]++;

const usePopover = (defaultOpen = (cov_29w7qehwjl().b[10][0]++, false)) => {
  cov_29w7qehwjl().f[10]++;
  const triggerRef = (cov_29w7qehwjl().s[24]++, useRef(null));
  const [open, setOpen] = (cov_29w7qehwjl().s[25]++, useState(defaultOpen));
  const toggle = (cov_29w7qehwjl().s[26]++, useCallback(e => {
    cov_29w7qehwjl().f[11]++;
    cov_29w7qehwjl().s[27]++;
    e.stopPropagation();
    cov_29w7qehwjl().s[28]++;
    setOpen(!open);
  }, []));
  const close = (cov_29w7qehwjl().s[29]++, useCallback(() => {
    cov_29w7qehwjl().f[12]++;
    cov_29w7qehwjl().s[30]++;
    return setOpen(false);
  }, []));
  cov_29w7qehwjl().s[31]++;
  useEscapeHandler(close, []);
  const contentRef = (cov_29w7qehwjl().s[32]++, useClickOutside([], open ? (cov_29w7qehwjl().b[11][0]++, close) : (cov_29w7qehwjl().b[11][1]++, undefined)));
  const trigger = (cov_29w7qehwjl().s[33]++, {
    ref: triggerRef,
    onClick: toggle,
    'aria-haspopup': role,
    'aria-expanded': open
  });
  const content = (cov_29w7qehwjl().s[34]++, {
    ref: contentRef,
    role
  });
  cov_29w7qehwjl().s[35]++;
  return [open, trigger, content, setOpen];
};

export default usePopover;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZS1wb3BvdmVyLmpzeCJdLCJuYW1lcyI6WyJ1c2VSZWYiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwiaXNFbXB0eSIsIm5vb3AiLCJ1c2VFc2NhcGVIYW5kbGVyIiwiaGFuZGxlciIsImRlcGVuZGVuY2llcyIsImVzY2FwZUhhbmRsZXIiLCJlIiwiY29kZSIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1c2VDbGlja091dHNpZGUiLCJjYWxsYmFja1JlZiIsInJlZiIsIm91dHNpZGVDbGlja0hhbmRsZXIiLCJjdXJyZW50IiwiY29udGFpbnMiLCJ0YXJnZXQiLCJjYXB0dXJlIiwicm9sZSIsInVzZVBvcG92ZXIiLCJkZWZhdWx0T3BlbiIsInRyaWdnZXJSZWYiLCJvcGVuIiwic2V0T3BlbiIsInRvZ2dsZSIsInN0b3BQcm9wYWdhdGlvbiIsImNsb3NlIiwiY29udGVudFJlZiIsInRyaWdnZXIiLCJvbkNsaWNrIiwiY29udGVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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OEJBQUczQixXQUFXLENBQUVPLENBQUQsSUFBTztBQUFBO0FBQUE7QUFDaENBLElBQUFBLENBQUMsQ0FBQ3FCLGVBQUY7QUFEZ0M7QUFFaENGLElBQUFBLE9BQU8sQ0FBQyxDQUFDRCxJQUFGLENBQVA7QUFDRCxHQUh5QixFQUd2QixFQUh1QixDQUFkLENBQVo7QUFJQSxRQUFNSSxLQUFLLDhCQUFHN0IsV0FBVyxDQUFDLE1BQU07QUFBQTtBQUFBO0FBQUEsV0FBQTBCLE9BQU8sQ0FBQyxLQUFELENBQVA7QUFBYyxHQUFyQixFQUF1QixFQUF2QixDQUFkLENBQVg7QUFQMEM7QUFRMUN2QixFQUFBQSxnQkFBZ0IsQ0FBQzBCLEtBQUQsRUFBUSxFQUFSLENBQWhCO0FBQ0EsUUFBTUMsVUFBVSw4QkFBR2pCLGVBQWUsQ0FBQyxFQUFELEVBQUtZLElBQUksaUNBQUdJLEtBQUgsa0NBQVduQixTQUFYLENBQVQsQ0FBbEIsQ0FBaEI7QUFDQSxRQUFNcUIsT0FBTyw4QkFBRztBQUNkaEIsSUFBQUEsR0FBRyxFQUFFUyxVQURTO0FBRWRRLElBQUFBLE9BQU8sRUFBRUwsTUFGSztBQUdkLHFCQUFpQk4sSUFISDtBQUlkLHFCQUFpQkk7QUFKSCxHQUFILENBQWI7QUFNQSxRQUFNUSxPQUFPLDhCQUFHO0FBQ2RsQixJQUFBQSxHQUFHLEVBQUVlLFVBRFM7QUFFZFQsSUFBQUE7QUFGYyxHQUFILENBQWI7QUFoQjBDO0FBb0IxQyxTQUFPLENBQUNJLElBQUQsRUFBT00sT0FBUCxFQUFnQkUsT0FBaEIsRUFBeUJQLE9BQXpCLENBQVA7QUFDRCxDQXJCRDs7QUFzQkEsZUFBZUosVUFBZiIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwcyAqL1xuaW1wb3J0IHsgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGlzRW1wdHkgfSBmcm9tICdsb2Rhc2gnO1xuXG5jb25zdCBub29wID0gKCkgPT4ge307XG5jb25zdCB1c2VFc2NhcGVIYW5kbGVyID0gKGhhbmRsZXIgPSBub29wLCBkZXBlbmRlbmNpZXMgPSBbXSkgPT4ge1xuICBjb25zdCBlc2NhcGVIYW5kbGVyID0gKGUpID0+IHtcbiAgICBpZiAoZS5jb2RlID09PSAnRXNjYXBlJykge1xuICAgICAgaGFuZGxlcigpO1xuICAgIH1cbiAgfTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpc0VtcHR5KGRvY3VtZW50KSA/IHVuZGVmaW5lZCA6IGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZXNjYXBlSGFuZGxlcik7XG4gICAgcmV0dXJuICgpID0+IChpc0VtcHR5KGRvY3VtZW50KSA/IHVuZGVmaW5lZCA6IGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZXNjYXBlSGFuZGxlcikpO1xuICB9LCBkZXBlbmRlbmNpZXMpO1xufTtcbmNvbnN0IHVzZUNsaWNrT3V0c2lkZSA9IChkZXBlbmRlbmNpZXMsIGhhbmRsZXIgPSBub29wKSA9PiB7XG4gIGNvbnN0IGNhbGxiYWNrUmVmID0gdXNlUmVmKGhhbmRsZXIpO1xuICBjb25zdCByZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IG91dHNpZGVDbGlja0hhbmRsZXIgPSAoZSkgPT4ge1xuICAgIGlmIChjYWxsYmFja1JlZi5jdXJyZW50ICYmIHJlZi5jdXJyZW50ICYmICFyZWYuY3VycmVudC5jb250YWlucyhlLnRhcmdldCkpIHtcbiAgICAgIGNhbGxiYWNrUmVmLmN1cnJlbnQoZSk7XG4gICAgfVxuICB9O1xuICAvLyB1c2VFZmZlY3Qgd3JhcHBlciB0byBiZSBzYWZlIGZvciBjb25jdXJyZW50IG1vZGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjYWxsYmFja1JlZi5jdXJyZW50ID0gaGFuZGxlcjtcbiAgfSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaXNFbXB0eShkb2N1bWVudCkgPyB1bmRlZmluZWQgOiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG91dHNpZGVDbGlja0hhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICByZXR1cm4gKCkgPT5cbiAgICAgIGlzRW1wdHkoZG9jdW1lbnQpID8gdW5kZWZpbmVkIDogZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvdXRzaWRlQ2xpY2tIYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gIH0sIGRlcGVuZGVuY2llcyk7XG4gIHJldHVybiByZWY7XG59O1xuY29uc3Qgcm9sZSA9ICdkaWFsb2cnO1xuY29uc3QgdXNlUG9wb3ZlciA9IChkZWZhdWx0T3BlbiA9IGZhbHNlKSA9PiB7XG4gIGNvbnN0IHRyaWdnZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFtvcGVuLCBzZXRPcGVuXSA9IHVzZVN0YXRlKGRlZmF1bHRPcGVuKTtcbiAgY29uc3QgdG9nZ2xlID0gdXNlQ2FsbGJhY2soKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHNldE9wZW4oIW9wZW4pO1xuICB9LCBbXSk7XG4gIGNvbnN0IGNsb3NlID0gdXNlQ2FsbGJhY2soKCkgPT4gc2V0T3BlbihmYWxzZSksIFtdKTtcbiAgdXNlRXNjYXBlSGFuZGxlcihjbG9zZSwgW10pO1xuICBjb25zdCBjb250ZW50UmVmID0gdXNlQ2xpY2tPdXRzaWRlKFtdLCBvcGVuID8gY2xvc2UgOiB1bmRlZmluZWQpO1xuICBjb25zdCB0cmlnZ2VyID0ge1xuICAgIHJlZjogdHJpZ2dlclJlZixcbiAgICBvbkNsaWNrOiB0b2dnbGUsXG4gICAgJ2FyaWEtaGFzcG9wdXAnOiByb2xlLFxuICAgICdhcmlhLWV4cGFuZGVkJzogb3BlbixcbiAgfTtcbiAgY29uc3QgY29udGVudCA9IHtcbiAgICByZWY6IGNvbnRlbnRSZWYsXG4gICAgcm9sZSxcbiAgfTtcbiAgcmV0dXJuIFtvcGVuLCB0cmlnZ2VyLCBjb250ZW50LCBzZXRPcGVuXTtcbn07XG5leHBvcnQgZGVmYXVsdCB1c2VQb3BvdmVyO1xuIl19